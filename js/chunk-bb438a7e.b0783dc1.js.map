{"version":3,"sources":["webpack:///./src/views/home/search/index.vue?c841","webpack:///./src/views/home/search/index.vue?5c55","webpack:///./src/api/home/search/index.js","webpack:///src/views/home/search/index.vue","webpack:///./src/views/home/search/index.vue?a0fb","webpack:///./src/views/home/search/index.vue","webpack:///./node_modules/_core-js@3.15.2@core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","onClickLeft","keyworld","model","value","callback","$$v","iptVal","expression","cel","_v","del","_l","item","key","id","$event","historygoods","_s","keyword","_e","goodsResult","name","class","is_hot","staticRenderFns","indexaction","data","request","url","helperaction","clearhistoryAction","method","addhistoryaction","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"kHAAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,KAAK,YAAY,KAAK,aAAa,IAAIC,GAAG,CAAC,aAAaR,EAAIS,eAAeL,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,aAAa,CAACE,YAAY,aAAaC,MAAM,CAAC,YAAc,QAAQC,GAAG,CAAC,MAAQR,EAAIU,UAAUC,MAAM,CAACC,MAAOZ,EAAU,OAAEa,SAAS,SAAUC,GAAMd,EAAIe,OAAOD,GAAKE,WAAW,YAAYZ,EAAG,OAAO,CAACE,YAAY,MAAME,GAAG,CAAC,MAAQR,EAAIiB,MAAM,CAACjB,EAAIkB,GAAG,SAAS,GAAIlB,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,IAAI,CAACJ,EAAIkB,GAAG,SAASd,EAAG,OAAO,CAACE,YAAY,WAAWE,GAAG,CAAC,MAAQR,EAAImB,MAAM,CAACf,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,WAAW,KAAO,SAAS,KAAKH,EAAG,KAAK,CAACE,YAAY,gBAAgBN,EAAIoB,GAAIpB,EAAe,aAAE,SAASqB,GAAM,OAAOjB,EAAG,KAAK,CAACkB,IAAID,EAAKE,GAAGjB,YAAY,eAAeE,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAIyB,aAAaJ,MAAS,CAACrB,EAAIkB,GAAG,IAAIlB,EAAI0B,GAAGL,EAAKM,eAAc,KAAK3B,EAAI4B,KAAM5B,EAAU,OAAEI,EAAG,MAAM,CAACE,YAAY,eAAeN,EAAIoB,GAAIpB,EAAY,UAAE,SAASqB,GAAM,OAAOjB,EAAG,IAAI,CAACkB,IAAID,EAAKE,GAAGjB,YAAY,cAAcE,GAAG,CAAC,MAAQ,SAASgB,GAAQ,OAAOxB,EAAI6B,YAAYR,MAAS,CAACrB,EAAIkB,GAAGlB,EAAI0B,GAAGL,EAAKS,YAAW,GAAG9B,EAAI4B,KAAKxB,EAAG,KAAK,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,SAASF,EAAG,IAAI,CAACJ,EAAIkB,GAAG,UAAUlB,EAAIoB,GAAIpB,EAAkB,gBAAE,SAASqB,GAAM,OAAOjB,EAAG,KAAK,CAACkB,IAAID,EAAKE,GAAGQ,MAAMV,EAAKW,OAAO,EAAE,SAAS,IAAI,CAAChC,EAAIkB,GAAG,IAAIlB,EAAI0B,GAAGL,EAAKM,SAAS,WAAU,IAAI,IACp7CM,EAAkB,G,wBCCtB,SAASC,EAAYC,GACjB,OAAOC,eAAQ,CACXC,IAAK,sBACLF,SAIR,SAASG,EAAaH,GAClB,OAAOC,eAAQ,CACXC,IAAK,uBACLF,SAIR,SAASI,EAAmBJ,GACxB,OAAOC,eAAQ,CACXI,OAAQ,OACRH,IAAK,6BACLF,SAIR,SAASM,EAAiBN,GACtB,OAAOC,eAAQ,CACXI,OAAQ,OACRH,IAAK,2BACLF,SCqBR,OACE,KADF,WAEI,MAAJ,CAEM,OAAN,GAEM,SAAN,GAEM,QAAN,EAEM,YAAN,GAEM,eAAN,GAEM,SAAN,IAGE,SAAF,GACE,QAlBF,aAmBE,QAnBF,WAmBI,IAAJ,OAEI,EAAJ,CAEM,OAAN,iCACA,kBACA,+BACQ,EAAR,YAEM,EAAN,+BACM,EAAN,yCAIE,QAAF,CAEI,SAFJ,WAEM,IAAN,OACM,EAAN,CACQ,QAAR,YACQ,MAAR,SACA,kBAEA,0BACU,EAAV,WACY,IAAZ,EACY,KAAZ,aAGU,EAAV,4BAGM,KAAN,UACA,cACQ,KAAR,YAGI,IAtBJ,WAuBM,KAAN,WAEI,IAzBJ,WAyBM,IAAN,OACM,EAAN,CACQ,OAAR,OACA,kBACQ,EAAR,eAGI,YAhCJ,WAiCM,QAAN,QAKI,aAtCJ,SAsCA,GACM,KAAN,sBACM,KAAN,kCAEI,YA1CJ,SA0CA,GACM,KAAN,sBACM,KAAN,iCACM,EAAN,CACQ,QAAR,OACQ,OAAR,oCCjIid,I,wBCQ7cO,EAAY,eACd,EACA3C,EACAkC,GACA,EACA,KACA,WACA,MAIa,aAAAS,E,qDCnBf,IAAIC,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAA4BH,EAAkBI,SAC9CC,EAAS,wBACTC,EAAO,OAIPT,KAAiBS,KAAQN,IAC3BF,EAAeE,EAAmBM,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOL,EAA0BM,KAAKtD,MAAMuD,MAAML,GAAQ,GAC1D,MAAOM,GACP,MAAO","file":"js/chunk-bb438a7e.b0783dc1.js","sourcesContent":["export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0513491f&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-body\"},[_c('van-nav-bar',{attrs:{\"title\":\"不凡\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_c('br'),_c('div',{staticClass:\"search\"},[_c('van-search',{staticClass:\"search-ipt\",attrs:{\"placeholder\":\"商品搜索\"},on:{\"input\":_vm.keyworld},model:{value:(_vm.iptVal),callback:function ($$v) {_vm.iptVal=$$v},expression:\"iptVal\"}}),_c('span',{staticClass:\"cel\",on:{\"click\":_vm.cel}},[_vm._v(\"取消\")])],1),(_vm.isempty)?_c('div',{staticClass:\"history\"},[_c('p',[_vm._v(\"历史记录 \"),_c('span',{staticClass:\"icon-box\",on:{\"click\":_vm.del}},[_c('van-icon',{attrs:{\"name\":\"delete-o\",\"size\":\"20\"}})],1)]),_c('ul',{staticClass:\"history-list\"},_vm._l((_vm.historyData),function(item){return _c('li',{key:item.id,staticClass:\"history-item\",on:{\"click\":function($event){return _vm.historygoods(item)}}},[_vm._v(\" \"+_vm._s(item.keyword))])}),0)]):_vm._e(),(_vm.isShow)?_c('div',{staticClass:\"search-list\"},_vm._l((_vm.keywords),function(item){return _c('p',{key:item.id,staticClass:\"search-item\",on:{\"click\":function($event){return _vm.goodsResult(item)}}},[_vm._v(_vm._s(item.name))])}),0):_vm._e(),_c('ul',{staticClass:\"hotSearch\"},[_c('div',{staticClass:\"line\"}),_c('p',[_vm._v(\"热门推荐\")]),_vm._l((_vm.hotKeywordList),function(item){return _c('li',{key:item.id,class:item.is_hot>0?'active':''},[_vm._v(\" \"+_vm._s(item.keyword)+\" \")])})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from \"@/api/request\";\r\n\r\nfunction indexaction(data) {\r\n    return request({\r\n        url: '/search/indexaction',\r\n        data\r\n    })\r\n};\r\n\r\nfunction helperaction(data) {\r\n    return request({\r\n        url: '/search/helperaction',\r\n        data\r\n    })\r\n};\r\n\r\nfunction clearhistoryAction(data) {\r\n    return request({\r\n        method: 'post',\r\n        url: '/search/clearhistoryAction',\r\n        data\r\n    })\r\n};\r\n\r\nfunction addhistoryaction(data) {\r\n    return request({\r\n        method: 'post',\r\n        url: '/search/addhistoryaction',\r\n        data\r\n    })\r\n};\r\n\r\nexport {\r\n    indexaction,\r\n    clearhistoryAction,\r\n    helperaction,\r\n    addhistoryaction\r\n}","<template>\r\n    <div class=\"search-body\">\r\n        <!-- 标题和返回 -->\r\n        <van-nav-bar title=\"不凡\" left-text=\"返回\" left-arrow @click-left=\"onClickLeft\" />\r\n        <br>\r\n        <!-- 搜索框 -->\r\n        <div class=\"search\">\r\n            <van-search class=\"search-ipt\" v-model=\"iptVal\" @input=\"keyworld\" placeholder=\"商品搜索\" />\r\n            <!-- 取消事件 -->\r\n            <span class=\"cel\" @click=\"cel\">取消</span>\r\n        </div>\r\n        <!-- 历史记录 -->\r\n        <div class=\"history\" v-if=\"isempty\">\r\n            <p>历史记录\r\n                <!-- 清楚历史记录事件 -->\r\n                <span class=\"icon-box\" @click=\"del\">\r\n                    <van-icon name=\"delete-o\" size=\"20\" />\r\n                </span>\r\n            </p>\r\n            <ul class=\"history-list\">\r\n                <li class=\"history-item\" v-for=\"item in historyData\" :key=\"item.id\" @click=\"historygoods(item)\">\r\n                    {{item.keyword}}</li>\r\n            </ul>\r\n        </div>\r\n        <!-- 搜索提示关键词列表 -->\r\n        <div class=\"search-list\" v-if=\"isShow\">\r\n            <p class=\"search-item\" v-for=\"item in keywords\" :key=\"item.id\" @click=\"goodsResult(item)\">{{item.name}}</p>\r\n        </div>\r\n        <!-- 热门推荐列表 -->\r\n        <ul class=\"hotSearch\">\r\n            <div class=\"line\"></div>\r\n            <p>热门推荐</p>\r\n            <li v-for=\" item in hotKeywordList\" :key=\"item.id\" :class=\"item.is_hot>0?'active':''\">\r\n                {{item.keyword}}\r\n            </li>\r\n        </ul>\r\n        <!-- <p @click=\"ss\">wwwwwwwasdada</p> -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // 引入api\r\n    import {\r\n        indexaction,\r\n        helperaction,\r\n        clearhistoryAction,\r\n        addhistoryaction\r\n    } from \"@/api/home/search/index\"\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                // 搜索框值\r\n                iptVal: \"\",\r\n                // 关键词列表\r\n                keywords: [],\r\n                // 关键词展示状态\r\n                isShow: false,\r\n                // 历史记录列表\r\n                historyData: [],\r\n                // 热门推荐列表\r\n                hotKeywordList: [],\r\n                // 历史记录展示状态\r\n                isempty: true,\r\n            };\r\n        },\r\n        computed: {},\r\n        created() {},\r\n        mounted() {\r\n            // 获取历史记录和热门推荐列表\r\n            indexaction({\r\n                //   openId:localStorage.openId,\r\n                openId: localStorage.getItem('openId'),\r\n            }).then(res => {\r\n                if (res.data.historyData.length == 0) {\r\n                    this.isempty = false;\r\n                }\r\n                this.historyData = res.data.historyData;\r\n                this.hotKeywordList = res.data.hotKeywordList\r\n            });\r\n\r\n        },\r\n        methods: {\r\n            // 搜索时获取关键词数据\r\n            keyworld() {\r\n                helperaction({\r\n                    keyword: this.iptVal,\r\n                    order: \"desc\",\r\n                }).then(res => {\r\n                    // 判断是否有数据\r\n                    if (res.data.keywords.length == 0) {\r\n                        this.keywords = [{\r\n                            id: -1,\r\n                            name: '数据库暂无此商品',\r\n                        }]\r\n                    } else {\r\n                        this.keywords = res.data.keywords;\r\n                    }\r\n                })\r\n                this.isShow = true;\r\n                if (!this.iptVal) {\r\n                    this.isShow = false;\r\n                }\r\n            },\r\n            cel() {\r\n                this.iptVal = \"\"\r\n            },\r\n            del() {\r\n                clearhistoryAction({\r\n                    openId: \"66\"\r\n                }).then(res => {\r\n                    this.isempty = false;\r\n                })\r\n            },\r\n            onClickLeft() {\r\n                history.back()\r\n\r\n                //    console.log(this.$route.query.toind);\r\n                //    this.$router.push(this.$route.query.toind.fullPath)\r\n            },\r\n            historygoods(item) {\r\n                this.$store.commit(\"uu\", item);\r\n                this.$router.push('/home/goods/page');\r\n            },\r\n            goodsResult(item) {\r\n                this.$store.commit(\"up\", item);\r\n                this.$router.push('/home/goods/page');\r\n                addhistoryaction({\r\n                    keyword:item.name,\r\n                    openId: localStorage.getItem('openId'),\r\n                })\r\n            },\r\n\r\n\r\n        },\r\n    };\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .search-body {\r\n        background-color: #fff;\r\n    }\r\n\r\n    .search {\r\n        display: flex;\r\n\r\n        .search-ipt {\r\n            width: 90%;\r\n            padding: 0;\r\n        }\r\n\r\n        .cel {\r\n            width: 30px;\r\n            text-align: center;\r\n            line-height: 50px;\r\n            font-size: 14px;\r\n        }\r\n    }\r\n\r\n    .history {\r\n        height: fit-content;\r\n\r\n        p {\r\n            width: 95%;\r\n            float: left;\r\n        }\r\n\r\n        .icon-box {\r\n            float: right;\r\n        }\r\n\r\n    }\r\n\r\n    .search-list {\r\n        position: absolute;\r\n        left: 0;\r\n        top: 100px;\r\n        width: 100%;\r\n        height: 700px;\r\n        background-color: #fff;\r\n        padding-left: 20px;\r\n\r\n        .search-item {\r\n            height: 40px;\r\n            line-height: 40px;\r\n            font-size: 14px;\r\n\r\n        }\r\n    }\r\n\r\n    .history-list {\r\n        width: 100%;\r\n        height: fit-content;\r\n\r\n        .history-item {\r\n            display: inline-block;\r\n            height: 20px;\r\n            line-height: 20px;\r\n            text-align: center;\r\n            padding: 5px;\r\n            margin: 10px;\r\n            border: 1px solid #000;\r\n        }\r\n    }\r\n\r\n    .hotSearch {\r\n        .active {\r\n            color: #f00;\r\n            border: 1px solid #f00;\r\n        }\r\n\r\n        .line {\r\n            width: 100%;\r\n            height: 10px;\r\n            background: #f4f4f4;\r\n            margin: 20px 0px;\r\n        }\r\n\r\n        li {\r\n            display: inline-block;\r\n            height: 20px;\r\n            line-height: 20px;\r\n            text-align: center;\r\n            margin: 10px;\r\n            padding: 5px;\r\n            border: 1px solid #000;\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0513491f&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0513491f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0513491f\",\n  null\n  \n)\n\nexport default component.exports","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}